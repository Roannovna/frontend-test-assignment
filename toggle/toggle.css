:root {
  --animation-speed: 0.6s;
  --bg-light: #ffffff;
  --bg-shadow: #aaaaaa;
  --off-color: #C63739;
  --on-color: #63AD36;
  --outer-edge-bg: rgba(228, 221, 208, 0.3);
  --toggle-light: #F2F2F2;
  --toggle-main: #f5f2ee;
  --toggle-shadow: #dddad5;
  --transparent-shadow: rgba(0, 0, 0, 0.25);
  --transparent-light-shadow: rgba(255, 255, 255, 0.4);
  --super-transparent-shadow: rgba(0, 0, 0, 0.1);
}

.no-transition #bottom,
.no-transition #ball,
.no-transition #ball-off,
.no-transition #ball-on {
  transition: none !important;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: linear-gradient(var(--bg-light), var(--bg-shadow));
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100dvh;
  width: 100dvw;
  position: relative;
}

#toggle-conteiner {
  position: fixed;
  transform: translateX(-100%);
}

#toggle {
  width: 200px;
  height: 120px;
  border-radius: 60px;
  display: block;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  cursor: pointer;
  background:
    radial-gradient(at top left, var(--toggle-light) 10%, var(--outer-edge-bg) 20%),
    radial-gradient(at top right, var(--toggle-light) 20%, var(--outer-edge-bg) 35%);
  box-shadow:
    0 0 2.5px var(--transparent-shadow),
    0 30px 15px 5px var(--transparent-shadow);
  -webkit-tap-highlight-color: transparent;
}

.toggle__element {
  display: block;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

#conteiner {
  width: 190px;
  height: 110px;
  background-color: var(--toggle-main);
  border-radius: 55px;
  box-shadow: 0 0 2px 1px var(--toggle-main);
}

#inner-edge {
  width: 165px;
  height: 95px;
  border-radius: 47.5px;
  background: linear-gradient(0deg, var(--toggle-light) 33%, var(--toggle-shadow) 45%);
  box-shadow: 0 0 2px 3px var(--toggle-shadow) inset;
}

#bottom,
#ball {
  background: linear-gradient(90deg, var(--on-color) 50%, var(--off-color) 0);
}

#bottom {
  width: 155px;
  height: 85px;
  border-radius: 42.5px;
  background-position: 75% 0;
  background-size: 200% 100%;
  box-shadow: 
    0 0 1px 1px var(--toggle-light) inset,
    0 15px 15px 10px var(--transparent-shadow) inset,
    0 0 0 42.5px var(--super-transparent-shadow) inset;
}

#ball {
  width: 85px;
  height: 85px;
  border-radius: 50%;
  transform: translate(-90%, -50%);
  box-shadow: 0 0 5px 0 var(--transparent-shadow);
  z-index: 0;
  display: block;
  overflow: hidden;
  position: relative;
}

#ball:before {
  content: "";
  position: absolute;
  display: block;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background:
    radial-gradient(2em 1.5em at 50% 35%, var(--transparent-light-shadow) 15%, transparent),
    radial-gradient(1.5em 2.5em at 75% 40%, var(--transparent-light-shadow) 15%, transparent),
    radial-gradient(100% 100% at 50% 33%, transparent 25%, var(--transparent-shadow) 50%);
  box-shadow: 0 0 3px 1px var(--transparent-shadow) inset;
  z-index: 3;
}

#ball-off,
#ball-on {
  position: absolute;
  top: 0;
  height: 100%;
  transition: transform calc(var(--animation-speed)/2);
  z-index: 2;
  backface-visibility: hidden;
  will-change: transform;
}

#ball-off {
  background: var(--off-color);
  border-radius: 100% 0 0 100% / 50% 50% 50% 50%;
  left: 0;
  width: 50%;
  transform-origin: 100% 50%;
  transition-delay: calc(var(--animation-speed)/2);
  transition-timing-function: ease-out;
}

#ball-on {
  background: var(--on-color);
  border-radius: 0 100% 100% 0 / 50% 50% 50% 50%;
  transform: scaleX(0);
  transform-origin: 0 50%;
  transition-timing-function: ease-in;
  right: 0;
  width: calc(50% + 1px);
}


/* Анимирование */
input:checked+#toggle #bottom {
  background-position: 25% 0;
  transition: background-position var(--animation-speed) ease-in-out;
}

input:not(:checked)+#toggle #bottom {
  transition: background-position var(--animation-speed) ease-in-out;
}

input:checked+#toggle #ball {
  transform: translate(-10%, -50%);
  transition: transform var(--animation-speed) ease-in-out;
}

input:not(:checked)+#toggle #ball {
  transition: transform var(--animation-speed) ease-in-out;
}

input:checked+#toggle #ball-off {
  transform: scaleX(0);
  transition-delay: 0s;
  transition-timing-function: ease-in;
}

input:checked+#toggle #ball-on {
  transform: scaleX(1);
  transition-delay: calc(var(--animation-speed)/2);
  transition-timing-function: ease-out;
}

/* removed duplicate rule; single rule above is sufficient */


footer {
  position: fixed;
  bottom: 10%;
  left: 50%;
  transform: translate(-50%, -10%);
}
